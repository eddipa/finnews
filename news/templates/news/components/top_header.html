<!-- news/components/top_header.html -->

<div class="container py-3 d-flex justify-content-between align-items-center">
    <!-- Site Name -->
    <strong class="fs-5">
        <a href="{% url 'news:index' %}" class="text-decoration-none text-dark">FinNews</a>
    </strong>

    <!-- Dark Mode Toggle -->
    <div class="d-flex align-items-center">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="theme-toggle">
        </div>
        <span id="theme-label" class="ms-2 small">üåô Dark mode</span>
    </div>
</div>

<!-- Theme Toggle Script -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.getElementById("theme-toggle");
    const themeLink = document.getElementById("theme-style");
    const label = document.getElementById("theme-label");

    function applyTheme(theme) {
        if (theme === "dark") {
            themeLink.href = "https://cdn.jsdelivr.net/npm/bootstrap-dark-5@1.1.3/dist/css/bootstrap-dark.min.css";
            label.textContent = "‚òÄÔ∏è Light mode";
        } else {
            themeLink.href = "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css";
            label.textContent = "üåô Dark mode";
        }
    }

    const savedTheme = localStorage.getItem("theme") || "light";
    toggle.checked = savedTheme === "dark";
    applyTheme(savedTheme);

    toggle.addEventListener("change", function () {
        const newTheme = toggle.checked ? "dark" : "light";
        localStorage.setItem("theme", newTheme);
        applyTheme(newTheme);
    });
});
</script>
