<!-- news/components/top_header.html -->

<div class="container" style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 0;">
	<!-- Site Name -->
	<strong style="font-size: 1.2rem;"><a href="{% url 'news:index' %}">FinNews</a></strong>

	<!-- Dark Mode Toggle -->
	<div style="display: flex; align-items: center;">
		<label class="switch">
			<input type="checkbox" id="theme-toggle">
			<span class="slider"></span>
		</label>
		<span id="theme-label" style="margin-left: 0.5rem; font-size: 0.9rem;">üåô Dark mode</span>
	</div>
</div>

<!-- Toggle Script -->
<script>
document.addEventListener("DOMContentLoaded", function () {
	const toggle = document.getElementById("theme-toggle");
	const themeLink = document.getElementById("theme-style");
	const label = document.getElementById("theme-label");

	function applyTheme(theme) {
		if (theme === "dark") {
			themeLink.href = "https://cdn.jsdelivr.net/npm/mini.css@3.0.1/dist/mini-dark.min.css";
			label.textContent = "‚òÄÔ∏è Light mode";
		} else {
			themeLink.href = "https://cdn.jsdelivr.net/npm/mini.css@3.0.1/dist/mini-default.min.css";
			label.textContent = "üåô Dark mode";
		}
	}

	const savedTheme = localStorage.getItem("theme") || "light";
	toggle.checked = savedTheme === "dark";
	applyTheme(savedTheme);

	toggle.addEventListener("change", function () {
		const newTheme = toggle.checked ? "dark" : "light";
		localStorage.setItem("theme", newTheme);
		applyTheme(newTheme);
	});
});
</script>

<!-- Switch Styling -->
<style>
.switch {
	position: relative;
	display: inline-block;
	width: 40px;
	height: 22px;
}
.switch input {
	display: none;
}
.slider {
	position: absolute;
	cursor: pointer;
	top: 0; left: 0; right: 0; bottom: 0;
	background-color: #ccc;
	transition: .2s;
	border-radius: 22px;
}
.slider:before {
	content: "";
	position: absolute;
	height: 16px;
	width: 16px;
	left: 3px;
	bottom: 3px;
	background-color: white;
	transition: .2s;
	border-radius: 50%;
}
input:checked + .slider {
	background-color: #666;
}
input:checked + .slider:before {
	transform: translateX(18px);
}
</style>
